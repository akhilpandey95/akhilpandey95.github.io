<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Large language models for Scientometrics | Akhil Pandey</title>
<meta name="keywords" content="">
<meta name="description" content="Experiments, and how-to guide for the lecture &#34;Large language models for Scientometrics&#34;">
<meta name="author" content="Akhil Pandey">
<link rel="canonical" href="http://localhost:1313/projects/llmscisci/">
<meta name="google-site-verification" content="UA-135077366-1">
<link crossorigin="anonymous" href="http://localhost:1313/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/projects/llmscisci/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<script type="text/javascript" async 
src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            displayMath: [['$$','$$'], ['\\[','\\]']],
            processEscapes: true,
            processEnvironments: true
        },
        
        
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Preview': {visibility: 'hidden'}}
        }
    });
</script>

<body class="" id="top">
    
    
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
    
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Akhil Pandey (Alt + H)">Akhil Pandey</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/blog/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/cv/cv.pdf" title="CV">
                    <span>CV</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Large language models for Scientometrics
    </h1>
    <div class="post-description">
      Experiments, and how-to guide for the lecture &#34;Large language models for Scientometrics&#34;
    </div>
    <div class="post-meta"><span title='2025-04-21 00:00:00 +0000 UTC'>April 21, 2025</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Akhil Pandey

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#about" aria-label="About">About</a></li>
                <li>
                    <a href="#dataset" aria-label="Dataset">Dataset</a></li>
                <li>
                    <a href="#study-1" aria-label="Study-1:">Study-1:</a></li>
                <li>
                    <a href="#in-context-learning-notebook" aria-label="In-context-learning notebook:">In-context-learning notebook:</a></li>
                <li>
                    <a href="#study-2" aria-label="Study-2:">Study-2:</a></li>
                <li>
                    <a href="#dpo-notebook" aria-label="DPO Notebook:">DPO Notebook:</a></li>
                <li>
                    <a href="#study-3" aria-label="Study-3:">Study-3:</a></li>
                <li>
                    <a href="#grpo-notebook" aria-label="GRPO Notebook:">GRPO Notebook:</a></li>
                <li>
                    <a href="#referencess" aria-label="References(s):">References(s):</a></li>
                <li>
                    <a href="#authors-and-contributors" aria-label="Authors and Contributors:">Authors and Contributors:</a></li>
                <li>
                    <a href="#acknowledgement" aria-label="Acknowledgement">Acknowledgement</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h3 id="about">About<a hidden class="anchor" aria-hidden="true" href="#about">#</a></h3>
<p><strong>Large Language Models:</strong></p>
<p>The capabilities of Large Language Models (<strong>LLM&rsquo;s</strong>) to process data from different modalities and excel at different tasks ranging from information extraction, question and answering, math, coding, and recently reasoning simply shows the potential of this technology. Intuitively the complexities of training these models on different datasets/data mixes, opting different architectural choices, choosing different alignment strategies <strong>[1]</strong> seemingly could suggest picking a specific model for each task, but <strong>LLM&rsquo;s</strong> are geared towards being considered as general task solvers.</p>
<p><img loading="lazy" src="http://localhost:1313/img/SciSci.png" alt="image"  />
</p>
<h3 id="dataset">Dataset<a hidden class="anchor" aria-hidden="true" href="#dataset">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">Customized MLRC Data built from [2].
</span></span></code></pre></div><p><img loading="lazy" src="http://localhost:1313/img/LLMSciSci_dataset.png" alt="image"  />
</p>
<h3 id="study-1">Study-1:<a hidden class="anchor" aria-hidden="true" href="#study-1">#</a></h3>
<p>For this study we are going to test out three use-cases, <strong>Labelling</strong>, <strong>Information Extraction</strong>, and <strong>LLM as a Judge</strong>. We are going to use the dataset from the paper <!-- raw HTML omitted -->Laying Foundations to Quantify the &ldquo;Effort of Reproducibility&rdquo;<!-- raw HTML omitted --> <strong>[2]</strong>. The dataset and the tasks outline a good experimentation framework to effectively utilize Large language models for computational social science tasks <strong>[3]</strong>.</p>
<h3 id="in-context-learning-notebook">In-context-learning notebook:<a hidden class="anchor" aria-hidden="true" href="#in-context-learning-notebook">#</a></h3>
<p><a href="https://colab.research.google.com/github/akhilpandey95/LLMSciSci/blob/main/notebooks/LLMs_SciSci_ICL.ipynb"><img loading="lazy" src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"  />
</a></p>
<h3 id="study-2">Study-2:<a hidden class="anchor" aria-hidden="true" href="#study-2">#</a></h3>
<p>For this study we are going to use the Reproducibility dataset from the paper <!-- raw HTML omitted -->Laying Foundations to Quantify the &ldquo;Effort of Reproducibility&rdquo;<!-- raw HTML omitted --> <strong>[2]</strong> to preference tune answers using the <strong>Direct Preference Optimization(DPO)</strong> algorithm. <em>DPO</em> unlike other reinforcement algorithms directly applies maximum likelihood on the preference dataset to perform implicit reward modeling. Ideally, similar to most RL algorithms we would be applying the same reward maximization via <strong>KL</strong> divergence constraint. Theoretically, <em>DPO</em> is RL free, and doing a simple classification on a given a dataset $D$ that includes <strong>chosen</strong> and <strong>rejected</strong> responses. Learn more about <em>DPO</em> from the original paper <strong>[4]</strong>.</p>
<p>$$
L_{DPO}(\pi_{LLMSciSci}: \pi_{LLM-instruct})
;=; - ,\mathbb{E}{\bigl(x,,r^+,,r^-\bigr) \sim D_{ReproEffortDataset}}
\Bigl[
\log ,\sigma!\Bigl(
r_\theta(x,r^+) ;-; r_\theta(x,r^-)
\Bigr)
\Bigr]
$$</p>
<p>$$
r_\theta(x, r)
;=;
\beta ,\log \frac{\pi_{LLMSciSci}(r ,\vert, x)}{\pi_{LLM-instruct}(r ,\vert, x)}
$$</p>
<p>where the $r_{\theta}$ is computed</p>
<ul>
<li>using $r^+$(human preferred response), and $r^-$(rejected responses).</li>
<li>for the models $\pi_{LLMSciSci}$ and $\pi_{LLM-instruct}$.</li>
<li>$r_{\theta}$  captures the log-probability of the <em>chosen</em> vs <em>rejected</em> responses on $D_{ReproEffortDataset}$.</li>
<li>$\pi_{LLM-instruct}$ is the instruct-tuned open weight reference model.</li>
<li>$\pi_{LLMSciSci}$ is the final RL model intended to be preference-tuned on $D_{ReproEffortDataset}$.</li>
</ul>
<h3 id="dpo-notebook">DPO Notebook:<a hidden class="anchor" aria-hidden="true" href="#dpo-notebook">#</a></h3>
<p><a href="https://colab.research.google.com/github/akhilpandey95/LLMSciSci/blob/main/notebooks/LLMs_SciSci_DPO.ipynb"><img loading="lazy" src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"  />
</a></p>
<h3 id="study-3">Study-3:<a hidden class="anchor" aria-hidden="true" href="#study-3">#</a></h3>
<p>For this study we are going to use the Reproducibility dataset from the paper <!-- raw HTML omitted -->Laying Foundations to Quantify the &ldquo;Effort of Reproducibility&rdquo;<!-- raw HTML omitted --> <strong>[2]</strong> to optimize policy gradients using <strong>Group Relative Policy Optimization(GRPO)</strong> algorithm. <em>GRPO</em> is an online learning algorithm where the model uses generated completions to learn how to maximize advantages and get better at generating completions at every given step. Learn more about the <em>GRPO</em> from the original paper <strong>[5]</strong>.</p>
<p><strong>Format rewards</strong></p>
<p>$$
R_{\text{format}}(c) = \begin{cases} 1.0 &amp; \text{if } c \text{ matches pattern } \texttt{<!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted --> <!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted -->} \ 0.0 &amp; \text{otherwise} \end{cases}
$$</p>
<p><strong>Label rewards</strong></p>
<p>$$
R_{\text{label}}(c) =
\begin{cases}
0.5 &amp; \text{if } c \text{ matches format AND } \text{extracttext}(c, \text{&ldquo;label&rdquo;}) \text{ is valid onehot} \
0.0 &amp; \text{otherwise}
\end{cases}
$$</p>
<p><strong>Stepwise rewards</strong></p>
<p>$$
R_{\text{stepwise}}(c) = r_1 + r_2 + r_3 + r_4
$$</p>
<p>$$
r_1 =
\begin{cases}
0.125 &amp; \text{if there exists non-empty text within } \texttt{<!-- raw HTML omitted -->&hellip;<!-- raw HTML omitted -->} \
0.0 &amp; \text{otherwise}
\end{cases}
$$</p>
<p>$$
r_2 =
\begin{cases}
0.125 &amp; \text{if text consists only of 0&rsquo;s and 1&rsquo;s (ignoring brackets, commas, whitespace)} \
0.0 &amp; \text{otherwise}
\end{cases}
$$</p>
<p>$$
r_3 =
\begin{cases}
0.125 &amp; \text{if text starts with &lsquo;[&rsquo; and ends with &lsquo;]&rsquo;} \
0.0 &amp; \text{otherwise}
\end{cases}
$$</p>
<p>$$
r_4 =
\begin{cases}
0.625 &amp; \text{if text passes the } \textit{isvalidonehot()} \text{check} \
0.0 &amp; \text{otherwise}
\end{cases}
$$</p>
<p><strong>Hamming loss correctness reward</strong></p>
<p>$$
R_{\text{hamming}}(p, c, \text{doi}, \text{ltype}) =
\begin{cases}
1 - HL(y_{\text{true}}, y_{\text{pred}}) &amp; \text{if } \text{extracttext}(c, \text{&ldquo;label&rdquo;}) \text{ is valid onehot} \
0.0 &amp; \text{otherwise}
\end{cases}
$$</p>
<p><strong>Conditional Reasoning trace length award</strong></p>
<p>$$
R_{\text{condcotsteplabel}}(c) =
\begin{cases}
R_{\text{stepwise}}(c) + \alpha \cdot R_{\text{cotlength}}(c) &amp; \text{if } R_{\text{stepwise}}(c) \geq \tau \
R_{\text{stepwise}}(c) &amp; \text{otherwise}
\end{cases}
$$</p>
<h3 id="grpo-notebook">GRPO Notebook:<a hidden class="anchor" aria-hidden="true" href="#grpo-notebook">#</a></h3>
<p><a href="https://colab.research.google.com/github/akhilpandey95/LLMSciSci/blob/main/notebooks/LLMs_SciSci_GRPO.ipynb"><img loading="lazy" src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"  />
</a></p>
<h3 id="referencess">References(s):<a hidden class="anchor" aria-hidden="true" href="#referencess">#</a></h3>
<ol>
<li><a href="https://arxiv.org/abs/2303.18223">A Survey of Large Language Models</a></li>
<li><a href="https://ieeexplore.ieee.org/abstract/document/10266070">Laying Foundations to Quantify the “Effort of Reproducibility”</a></li>
<li><a href="https://aclanthology.org/2024.cl-1.8/">Can Large Language Models Transform Computational Social Science?</a></li>
<li><a href="https://arxiv.org/pdf/2305.18290">Direct Preference Optimization: Your Language Model is Secretly a Reward Model</a></li>
<li><a href="https://arxiv.org/abs/2402.03300">DeepSeekMath: Pushing the Limits of Mathematical Reasoning in Open Language Models</a></li>
</ol>
<h3 id="authors-and-contributors">Authors and Contributors:<a hidden class="anchor" aria-hidden="true" href="#authors-and-contributors">#</a></h3>
<p><a href="https://github.com/akhilpandey95">Akhil Pandey</a>, Want to contribute see your name here :), <a href="https://github.com/akhilpandey95/LLMSciSci/issues/new">Open an Issue</a> ?</p>
<h3 id="acknowledgement">Acknowledgement<a hidden class="anchor" aria-hidden="true" href="#acknowledgement">#</a></h3>
<p>The computing resources for this work is supported completely by the Google Cloud Research Credits Grant <strong>331845891</strong>.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Akhil Pandey</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
